<!-- inject:global -->
<style>
    .ws-notification-wrapper {
        position: fixed;
        right: 0;
        bottom: 0;
        z-index: 3;
    }
    .ws-notification-list {
        margin: 1rem;
    }
    .ws-notification-list ws-notification {
        display: block;
        margin-bottom: 1rem;
        max-height: 300px;
    }
</style>
<!-- endinject -->
<dom-module id="ws-notification">
    <template>
        <!-- inject:html -->
        <div class$="[[notificationClass]]">
    <div class="icons">
        <i class="icon icon32 icon-info"></i>
        <i class="icon icon32 icon-warning"></i>
        <i class="icon icon32 icon-success"></i>
        <i class="icon icon32 icon-error"></i>
    </div>
    <div class$="[[contentClass]]">
        <div class="title">[[title]]</div>
        <p class="description">[[description]]</p>
    </div>
</div>
        <!-- endinject -->
        <style>
            /* inject:styles */
            @charset "UTF-8";
:host ::content {
  /**
 * Parse a numeric value from a string
 */
  /**
 * Convert a pixel value to rem
 */
  /**
 * Convert a list of pixel values to rem values
 */
  /**
* Z-index function for managing the values
*/
  /**
     * Spinner with zalando icon
     * Example: <span class="icon-zalando spinner"><span></span></span>
     */ }

@font-face {
  :host ::content {
    font-family: "fontello";
    src: url("icons/font/fontello.eot?4287725");
    src: url("icons/font/fontello.eot?4287725#iefix") format("embedded-opentype"), url("icons/font/fontello.woff2?4287725") format("woff2"), url("icons/font/fontello.woff?4287725") format("woff"), url("icons/font/fontello.ttf?4287725") format("truetype"), url("icons/font/fontello.svg?4287725#fontello") format("svg");
    font-weight: normal;
    font-style: normal; } }
  :host ::content .icon, :host ::content [class^="icon-"], :host ::content [class*=" icon-"] {
    line-height: 1rem; }
  :host ::content .icon:before, :host ::content [class^="icon-"]:before, :host ::content [class*=" icon-"]:before {
    font-family: "fontello";
    font-style: normal;
    font-weight: normal;
    speak: none;
    display: inline-block;
    text-decoration: inherit;
    text-align: center;
    font-variant: normal;
    text-transform: none;
    font-size: 150%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale; }
  :host ::content .icon16 {
    width: 1rem;
    height: 1rem;
    line-height: 1rem;
    font-size: 1rem;
    text-indent: -2px; }
  :host ::content .icon24 {
    width: 1.5rem;
    height: 1.5rem;
    line-height: 1.5rem;
    font-size: 1.5rem;
    text-indent: -3px; }
  :host ::content .icon32 {
    width: 2rem;
    height: 2rem;
    line-height: 2rem;
    font-size: 2rem;
    text-indent: -4px; }
  :host ::content .icon48 {
    width: 3rem;
    height: 3rem;
    line-height: 3rem;
    font-size: 3rem;
    text-indent: -5px; }
  :host ::content .icon-filter:before {
    content: ""; }
  :host ::content .icon-sort-down:before {
    content: ""; }
  :host ::content .icon-zalando:before {
    content: ""; }
  :host ::content .icon-dot:before {
    content: ""; }
  :host ::content .icon-ok:before {
    content: ""; }
  :host ::content .icon-power:before {
    content: ""; }
  :host ::content .icon-warning-circle:before {
    content: ""; }
  :host ::content .icon-check:before {
    content: ""; }
  :host ::content .icon-info-circled-alt:before {
    content: ""; }
  :host ::content .icon-attention-alt:before {
    content: ""; }
  :host ::content .icon-cancel-circled:before {
    content: ""; }
  :host ::content .icon-magnifiying-glass:before {
    content: ""; }
  :host ::content .icon-pencil-stroke:before {
    content: ""; }
  :host ::content .icon-sort-up:before {
    content: ""; }
  :host ::content .icon-warning-triangle:before {
    content: ""; }
  :host ::content .icon-cross:before {
    content: ""; }
  :host ::content .icon-bell:before {
    content: ""; }
  :host ::content .icon-calendar:before {
    content: ""; }
  :host ::content .icon-gear:before {
    content: ""; }
  :host ::content .icon-heart:before {
    content: ""; }
  :host ::content .icon-home:before {
    content: ""; }
  :host ::content .icon-locked:before {
    content: ""; }
  :host ::content .icon-paperclip:before {
    content: ""; }
  :host ::content .icon-lightbulb:before {
    content: ""; }
  :host ::content .icon-checkmark-circle:before {
    content: ""; }
  :host ::content .icon-circle:before {
    content: ""; }
  :host ::content .icon-zalando.mod-spinner {
    padding: 0 1em;
    display: inline-block;
    vertical-align: middle;
    position: relative;
    line-height: 1em; }
    :host ::content .icon-zalando.mod-spinner:before {
      font-size: 100%; }
    :host ::content .icon-zalando.mod-spinner span:before,
    :host ::content .icon-zalando.mod-spinner span:after {
      content: "";
      font-family: "fontello";
      display: block;
      position: absolute;
      top: 0;
      left: 1.9em;
      font-size: .7em;
      line-height: 1.5em;
      transform: translate3d(0, 0, 0); }
    :host ::content .icon-zalando.mod-spinner span:before {
      animation: animateLeftBall 1s cubic-bezier(0.15, 0.07, 0.18, 1.07) infinite; }
    :host ::content .icon-zalando.mod-spinner span:after {
      animation: animateRightBall 0.9s cubic-bezier(1, -0.12, 0, 0.46) 0.1s infinite; }

@keyframes animateRightBall {
  0% {
    transform: translate3d(0, 0, 0); }
  50% {
    transform: translate3d(1.5em, 0, 0); }
  0% {
    transform: translate3d(0, 0, 0); } }

@keyframes animateLeftBall {
  0% {
    transform: translate3d(0, 0, 0); }
  50% {
    transform: translate3d(-1.5em, 0, 0); }
  0% {
    transform: translate3d(0, 0, 0); } }
  :host ::content .notification {
    padding: 1rem;
    width: 25rem;
    min-height: 4.375rem;
    box-sizing: border-box;
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
    display: -ms-flexbox;
    display: flex;
    -ms-flex-direction: row;
    flex-direction: row;
    -ms-flex-align: center;
    align-items: center;
    cursor: pointer;
    font-family: "acumin-pro", "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 1rem;
    color: #626166;
    background-color: #F0F1F6;
    border-left: 3px solid #ACADB5; }
    :host ::content .notification .icons {
      -ms-flex: 3rem 0 0;
      flex: 3rem 0 0; }
      :host ::content .notification .icons .icon {
        font-size: 2rem;
        display: none; }
    :host ::content .notification .content {
      -ms-flex: auto 1 1;
      flex: auto 1 1;
      margin: auto;
      max-height: 16.25rem;
      overflow: auto; }
      :host ::content .notification .content .title {
        font-size: 1rem;
        line-height: 1rem;
        font-weight: bold; }
      :host ::content .notification .content .description {
        font-size: 0.8125rem;
        line-height: 0.875rem;
        padding-bottom: 0.25rem;
        margin: 0; }
      :host ::content .notification .content.has-description .title {
        margin-bottom: 0.5rem; }
    :host ::content .notification.info .icons {
      display: none; }
    :host ::content .notification.warning {
      border-left-color: #FF9C0F; }
      :host ::content .notification.warning .icons .icon-warning {
        color: #FF9C0F;
        display: block; }
        :host ::content .notification.warning .icons .icon-warning:before {
          content: ""; }
    :host ::content .notification.success {
      border-left-color: #1EB234; }
      :host ::content .notification.success .icons .icon-success {
        color: #1EB234;
        display: block; }
        :host ::content .notification.success .icons .icon-success:before {
          content: ""; }
    :host ::content .notification.error {
      border-left-color: #F44F41; }
      :host ::content .notification.error .icons .icon-error {
        color: #F44F41;
        display: block; }
        :host ::content .notification.error .icons .icon-error:before {
          content: ""; }

            /* endinject */
        </style>
    </template>

    <script>
    (function(){
        /* inject:js */
        'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * This class represents the ws-notification custom element
 * The element accepts the attributes title, description, type = 'info' and lifetime = 5000
 * It hides and removes itself on click or on lifetime end.
 * Valid types are: error, success, warning and info
 * A lifetime of 0 means endless
 *
 * Example: <ws-notification title="some title" description="This could be skipped" type="error" lifetime="0"/>
 */
Polymer({

    is: 'ws-notification',

    properties: {
        title: {
            type: String
        },
        type: {
            type: String,
            value: 'info'
        },
        description: {
            type: String,
            value: ''
        },
        lifetime: {
            type: Number,
            value: 10000
        },
        notificationClass: {
            type: String,
            computed: 'getNotificationClass(type)'
        },
        contentClass: {
            type: String,
            computed: 'getContentClass(description)'
        }
    },

    getNotificationClass: function getNotificationClass(type) {
        return 'notification ' + type;
    },
    getContentClass: function getContentClass(description) {
        return 'content ' + (description ? 'has-description' : '');
    },
    ready: function ready() {
        var _this = this;

        this.addEventListener('click', function (event) {
            return _this.close();
        }, true);
    },
    close: function close() {
        var _this2 = this;

        this.style.transition = 'opacity .2s ease-out, max-height .8s ease, margin-bottom .8s ease';
        this.style.willChange = 'opacity, max-height, margin-bottom';
        this.style.opacity = 0;
        this.style.maxHeight = 0;
        this.style.marginBottom = 0;
        setTimeout(function () {
            _this2.parentElement.removeChild(_this2);
            _this2.dispatchEvent(new CustomEvent('closed'));
            clearTimeout(_this2.timeoutId);
        }, 1000);
    },
    attached: function attached() {
        var _this3 = this;

        if (this.lifetime && !this.timeoutId) {
            this.timeoutId = setTimeout(function () {
                return _this3.close();
            }, this.lifetime);
        }
    }
});

/**
 * This class intends to create an easy to use approach for creating notifications.
 *
 * simply call wsNotification.create(options)
 * possible options are:
 *  title: string
 *  description: string (optional)
 *  type: info|warning|error|success (default: info
 *  lifetime: number (default: 5000ms, 0 for endless)
 */

var NotificationHandler = function () {
    function NotificationHandler() {
        _classCallCheck(this, NotificationHandler);

        this.notifications = [];
        this.list = null;
        // Bind functions to this scope
        this.isInitialized = this.isInitialized.bind(this);
        this.init = this.init.bind(this);
        this.create = this.create.bind(this);
    }

    _createClass(NotificationHandler, [{
        key: 'isInitialized',
        value: function isInitialized() {
            return !!this.list;
        }
    }, {
        key: 'init',
        value: function init(root) {
            root = root || document.body;
            // Prevent duplicate initialization
            if (root.querySelector('.ws-notification-list')) {
                return;
            }
            var wrapper = document.createElement('div');
            wrapper.setAttribute('class', 'ws-notification-wrapper');
            this.list = document.createElement('div');
            this.list.setAttribute('class', 'ws-notification-list');
            wrapper.appendChild(this.list);

            root.appendChild(wrapper);
        }
    }, {
        key: 'create',
        value: function create(_ref) {
            var title = _ref.title;
            var description = _ref.description;
            var type = _ref.type;
            var lifetime = _ref.lifetime;

            if (!this.isInitialized()) {
                throw new Error('You have to initialize the notification handler with init() before creating notification.');
            }
            var notification = document.createElement('ws-notification');
            title !== undefined && notification.setAttribute('title', title);
            description !== undefined && notification.setAttribute('description', description);
            type !== undefined && notification.setAttribute('type', type);
            lifetime !== undefined && notification.setAttribute('lifetime', lifetime);

            this.animateIn(notification);

            return this.notifications.push(notification);
        }
    }, {
        key: 'animateIn',
        value: function animateIn(notification) {
            var _this4 = this;

            this.list.appendChild(notification);
            var marginBottom = parseInt(document.defaultView.getComputedStyle(notification).marginBottom, 10);
            var height = notification.clientHeight + marginBottom;
            // Initial close the notification
            this.list.style.transition = 'none';
            this.list.style.transform = 'translate3d(0, ' + height + 'px, 0)';
            setTimeout(function () {
                _this4.list.style.transition = 'transform .35s cubic-bezier(.35, 1, .69, .98) .1s';
                _this4.list.style.transform = 'translate3d(0, 0, 0)';
            }, 0);
        }
    }]);

    return NotificationHandler;
}();

window.wsNotification = new NotificationHandler();
        /* endinject */
    })()
    </script>
</dom-module>
