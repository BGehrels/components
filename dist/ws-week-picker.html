<!-- inject:global -->
<!-- endinject -->
<template>
    <!-- inject:html -->
    <div class="ws-week-wrapper">
  <input type="text" class="ws-week-input" readonly placeholder="week picker" /> <span id="ws-week-icon"></span>
  <div class="ws-week-picker">
    <div class="prev-year">
      <span class="checkPrevYear"></span>
      <div class="year"></div>
      <div class="weeks"></div>
    </div>
    <div class="cur-year">
      <div class="year"></div>
      <div class="weeks"></div>
    </div>
    <div class="next-year">
      <div class="year"></div>
      <span class="checkNextYear"></span>
      <div class="weeks"></div>
    </div>
  </div>
</div>
    <!-- endinject -->
    <style>
        /* inject:styles */
        .ws-week-wrapper{display:inline-block;position:relative;font-style:acuminpro,"Helvetica Neue",Helvetica,Arial,sans-serif}.ws-week-wrapper>#ws-week-icon{right:11px;background:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDUxMS42MzQgNTExLjYzNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTExLjYzNCA1MTEuNjM0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPHBhdGggZD0iTTQ4Mi41MTMsODMuOTQyYy03LjIyNS03LjIzMy0xNS43OTctMTAuODUtMjUuNjk0LTEwLjg1aC0zNi41NDF2LTI3LjQxYzAtMTIuNTYtNC40NzctMjMuMzE1LTEzLjQyMi0zMi4yNjEgICBDMzk3LjkwNiw0LjQ3NSwzODcuMTU3LDAsMzc0LjU5MSwwaC0xOC4yNjhjLTEyLjU2NSwwLTIzLjMxOCw0LjQ3NS0zMi4yNjQsMTMuNDIyYy04Ljk0OSw4Ljk0NS0xMy40MjIsMTkuNzAxLTEzLjQyMiwzMi4yNjF2MjcuNDEgICBoLTEwOS42M3YtMjcuNDFjMC0xMi41Ni00LjQ3NS0yMy4zMTUtMTMuNDIyLTMyLjI2MUMxNzguNjQsNC40NzUsMTY3Ljg4NiwwLDE1NS4zMjEsMEgxMzcuMDUgICBjLTEyLjU2MiwwLTIzLjMxNyw0LjQ3NS0zMi4yNjQsMTMuNDIyYy04Ljk0NSw4Ljk0NS0xMy40MjEsMTkuNzAxLTEzLjQyMSwzMi4yNjF2MjcuNDFINTQuODIzYy05LjksMC0xOC40NjQsMy42MTctMjUuNjk3LDEwLjg1ICAgYy03LjIzMyw3LjIzMi0xMC44NSwxNS44LTEwLjg1LDI1LjY5N3YzNjUuNDUzYzAsOS44OSwzLjYxNywxOC40NTYsMTAuODUsMjUuNjkzYzcuMjMyLDcuMjMxLDE1Ljc5NiwxMC44NDksMjUuNjk3LDEwLjg0OWg0MDEuOTg5ICAgYzkuODk3LDAsMTguNDctMy42MTcsMjUuNjk0LTEwLjg0OWM3LjIzNC03LjIzNCwxMC44NTItMTUuODA0LDEwLjg1Mi0yNS42OTNWMTA5LjYzOSAgIEM0OTMuMzU3LDk5LjczOSw0ODkuNzQzLDkxLjE3NSw0ODIuNTEzLDgzLjk0MnogTTM0Ny4xODcsNDUuNjg2YzAtMi42NjcsMC44NDktNC44NTgsMi41Ni02LjU2NyAgIGMxLjcxMS0xLjcxMSwzLjkwMS0yLjU2OCw2LjU3LTIuNTY4aDE4LjI2OGMyLjY3LDAsNC44NTMsMC44NTQsNi41NywyLjU2OGMxLjcxMiwxLjcxMiwyLjU2NywzLjkwMywyLjU2Nyw2LjU2N3Y4Mi4yMjQgICBjMCwyLjY2Ni0wLjg1NSw0Ljg1My0yLjU2Nyw2LjU2N2MtMS43MTgsMS43MDktMy45LDIuNTY4LTYuNTcsMi41NjhoLTE4LjI2OGMtMi42NjksMC00Ljg1OS0wLjg1NS02LjU3LTIuNTY4ICAgYy0xLjcxMS0xLjcxNS0yLjU2LTMuOTAxLTIuNTYtNi41NjdWNDUuNjg2eiBNMTI3LjkxNSw0NS42ODZjMC0yLjY2NywwLjg1NS00Ljg1OCwyLjU2OC02LjU2NyAgIGMxLjcxNC0xLjcxMSwzLjkwMS0yLjU2OCw2LjU2Ny0yLjU2OGgxOC4yNzFjMi42NjcsMCw0Ljg1OCwwLjg1NCw2LjU2NywyLjU2OGMxLjcxMSwxLjcxMiwyLjU3LDMuOTAzLDIuNTcsNi41Njd2ODIuMjI0ICAgYzAsMi42NjYtMC44NTUsNC44NTYtMi41Nyw2LjU2N2MtMS43MTMsMS43MDktMy45LDIuNTY4LTYuNTY3LDIuNTY4SDEzNy4wNWMtMi42NjYsMC00Ljg1Ni0wLjg1NS02LjU2Ny0yLjU2OCAgIGMtMS43MDktMS43MTUtMi41NjgtMy45MDEtMi41NjgtNi41NjdWNDUuNjg2eiBNNDU2LjgxMiw0NzUuMDg4SDU0LjgyM3YtMjkyLjM2aDQwMS45ODlWNDc1LjA4OHoiIGZpbGw9IiMwMDAwMDAiLz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K);top:8px;position:absolute;width:16px;height:16px}.ws-week-wrapper>#ws-week-icon.active{width:12px;height:12px;top:10px;background:50% url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDk1LjkzOSA5NS45MzkiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDk1LjkzOSA5NS45Mzk7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8cGF0aCBkPSJNNjIuODE5LDQ3Ljk3bDMyLjUzMy0zMi41MzRjMC43ODEtMC43ODEsMC43ODEtMi4wNDcsMC0yLjgyOEw4My4zMzMsMC41ODZDODIuOTU4LDAuMjExLDgyLjQ0OCwwLDgxLjkxOSwwICAgYy0wLjUzLDAtMS4wMzksMC4yMTEtMS40MTQsMC41ODZMNDcuOTcsMzMuMTIxTDE1LjQzNSwwLjU4NmMtMC43NS0wLjc1LTIuMDc4LTAuNzUtMi44MjgsMEwwLjU4NywxMi42MDggICBjLTAuNzgxLDAuNzgxLTAuNzgxLDIuMDQ3LDAsMi44MjhMMzMuMTIxLDQ3Ljk3TDAuNTg3LDgwLjUwNGMtMC43ODEsMC43ODEtMC43ODEsMi4wNDcsMCwyLjgyOGwxMi4wMiwxMi4wMjEgICBjMC4zNzUsMC4zNzUsMC44ODQsMC41ODYsMS40MTQsMC41ODZjMC41MywwLDEuMDM5LTAuMjExLDEuNDE0LTAuNTg2TDQ3Ljk3LDYyLjgxOGwzMi41MzUsMzIuNTM1ICAgYzAuMzc1LDAuMzc1LDAuODg0LDAuNTg2LDEuNDE0LDAuNTg2YzAuNTI5LDAsMS4wMzktMC4yMTEsMS40MTQtMC41ODZsMTIuMDItMTIuMDIxYzAuNzgxLTAuNzgxLDAuNzgxLTIuMDQ4LDAtMi44MjhMNjIuODE5LDQ3Ljk3ICAgeiIgZmlsbD0iIzAwMDAwMCIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=)}.ws-week-wrapper>input.ws-week-input{width:100%;height:32px;line-height:32px;padding-left:11px;border-color:#d2d7e1;font-size:14px}.ws-week-wrapper>input.ws-week-input.active{outline:0;border-color:#00abf2}.ws-week-wrapper>input.ws-week-input:focus+#ws-week-icon{width:12px;height:12px;top:10px;background:50% url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDk1LjkzOSA5NS45MzkiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDk1LjkzOSA5NS45Mzk7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8cGF0aCBkPSJNNjIuODE5LDQ3Ljk3bDMyLjUzMy0zMi41MzRjMC43ODEtMC43ODEsMC43ODEtMi4wNDcsMC0yLjgyOEw4My4zMzMsMC41ODZDODIuOTU4LDAuMjExLDgyLjQ0OCwwLDgxLjkxOSwwICAgYy0wLjUzLDAtMS4wMzksMC4yMTEtMS40MTQsMC41ODZMNDcuOTcsMzMuMTIxTDE1LjQzNSwwLjU4NmMtMC43NS0wLjc1LTIuMDc4LTAuNzUtMi44MjgsMEwwLjU4NywxMi42MDggICBjLTAuNzgxLDAuNzgxLTAuNzgxLDIuMDQ3LDAsMi44MjhMMzMuMTIxLDQ3Ljk3TDAuNTg3LDgwLjUwNGMtMC43ODEsMC43ODEtMC43ODEsMi4wNDcsMCwyLjgyOGwxMi4wMiwxMi4wMjEgICBjMC4zNzUsMC4zNzUsMC44ODQsMC41ODYsMS40MTQsMC41ODZjMC41MywwLDEuMDM5LTAuMjExLDEuNDE0LTAuNTg2TDQ3Ljk3LDYyLjgxOGwzMi41MzUsMzIuNTM1ICAgYzAuMzc1LDAuMzc1LDAuODg0LDAuNTg2LDEuNDE0LDAuNTg2YzAuNTI5LDAsMS4wMzktMC4yMTEsMS40MTQtMC41ODZsMTIuMDItMTIuMDIxYzAuNzgxLTAuNzgxLDAuNzgxLTIuMDQ4LDAtMi44MjhMNjIuODE5LDQ3Ljk3ICAgeiIgZmlsbD0iIzAwMDAwMCIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=)}.ws-week-wrapper>.ws-week-picker{padding:13px 0;top:40px;width:596px;height:290px;padding-bottom:19px;background-color:#fff;position:absolute;display:none;box-shadow:2px 3px 28px 3px #b8b8b8}.ws-week-wrapper>.ws-week-picker.opened{display:block}.ws-week-wrapper>.ws-week-picker>.prev-year{width:85px;display:inline-block}.ws-week-wrapper>.ws-week-picker>.prev-year>.checkPrevYear{float:left;margin-left:18px;margin-top:2px;height:12px;width:12px;background:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMjkgMTI5IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMjkgMTI5IiB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4Ij4KICA8Zz4KICAgIDxwYXRoIGQ9Im04OC42LDEyMS4zYzAuOCwwLjggMS44LDEuMiAyLjksMS4yczIuMS0wLjQgMi45LTEuMmMxLjYtMS42IDEuNi00LjIgMC01LjhsLTUxLTUxIDUxLTUxYzEuNi0xLjYgMS42LTQuMiAwLTUuOHMtNC4yLTEuNi01LjgsMGwtNTQsNTMuOWMtMS42LDEuNi0xLjYsNC4yIDAsNS44bDU0LDUzLjl6IiBmaWxsPSIjMDAwMDAwIi8+CiAgPC9nPgo8L3N2Zz4K) 0 -2px}.ws-week-wrapper>.ws-week-picker>.prev-year>.year{margin-left:38px;color:#babfcc;font-weight:600;padding-bottom:13px}.ws-week-wrapper>.ws-week-picker>.cur-year{width:433px;display:inline-block;margin:0 -3px}.ws-week-wrapper>.ws-week-picker>.cur-year>.year{text-align:center;color:#babfcc;font-weight:600;padding-bottom:13px}.ws-week-wrapper>.ws-week-picker>.next-year{width:76px;display:inline-block;float:right}.ws-week-wrapper>.ws-week-picker>.next-year>.checkNextYear{float:left;margin-left:-2px;margin-top:2px;height:12px;width:12px;background:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMjkgMTI5IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMjkgMTI5IiB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4Ij4KICA8Zz4KICAgIDxwYXRoIGQ9Im00MC40LDEyMS4zYy0wLjgsMC44LTEuOCwxLjItMi45LDEuMnMtMi4xLTAuNC0yLjktMS4yYy0xLjYtMS42LTEuNi00LjIgMC01LjhsNTEtNTEtNTEtNTFjLTEuNi0xLjYtMS42LTQuMiAwLTUuOCAxLjYtMS42IDQuMi0xLjYgNS44LDBsNTMuOSw1My45YzEuNiwxLjYgMS42LDQuMiAwLDUuOGwtNTMuOSw1My45eiIgZmlsbD0iIzAwMDAwMCIvPgogIDwvZz4KPC9zdmc+Cg==) 0 -2px}.ws-week-wrapper>.ws-week-picker>.next-year>.year{float:left;margin-left:13px;padding-right:6px;font-weight:600;color:#babfcc;padding-bottom:13px}.ws-week-wrapper>.ws-week-picker>.cur-year>.weeks,.ws-week-wrapper>.ws-week-picker>.next-year>.weeks{margin-left:-5px}.ws-week-wrapper>.ws-week-picker .month{box-sizing:border-box;color:#babfcc;display:inline-block;width:40px;height:40px;padding-left:5px;line-height:39px;text-align:center;margin-left:1px;margin-bottom:4px;background-color:#def5fe}.ws-week-wrapper>.ws-week-picker .weeks>.weekNumbers:last-child>.month{padding-left:0;width:45px}.ws-week-wrapper>.ws-week-picker .weekNumbers{width:35.3px;height:35.3px;float:left;font-size:14px}.ws-week-wrapper>.ws-week-picker .week{background:0;border:1px solid transparent;border-radius:150px;box-sizing:border-box;color:#393939;cursor:pointer;display:inline-block;width:32px;height:32px;line-height:31px;text-align:center;margin:3px 6px}.ws-week-wrapper>.ws-week-picker .week.now,.ws-week-wrapper>.ws-week-picker .week.now:hover{background-color:#00abf2;color:#fff}.ws-week-wrapper>.ws-week-picker .week:hover{background-color:#def5fe}
        /* endinject */
    </style>
</template>

<script>
(function(){
    /* inject:js */
    "use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),currentScript=document._currentScript||document.currentScript,template=currentScript.ownerDocument.querySelector("template"),WSWeekPicker=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"createdCallback",value:function(){var e=document.importNode(template.content,!0);this.createShadowRoot().appendChild(e),this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.date=new Date,this.curYear=this.date.getFullYear(),this.curMonth=this.months[this.date.getMonth()],this.curWeek=this.getWeek(this.curYear,this.date.getMonth(),this.date.getDate()),this.getElements(),this.addListeners()}},{key:"getElements",value:function(){this.wrapper=this.shadowRoot.querySelector(".ws-week-wrapper"),this.input=this.shadowRoot.querySelector(".ws-week-input"),this.calendar=this.shadowRoot.querySelector(".ws-week-picker"),this.crossIcon=this.shadowRoot.querySelector("#ws-week-icon"),this.prevYearButton=this.shadowRoot.querySelector(".checkPrevYear"),this.nextYearButton=this.shadowRoot.querySelector(".checkNextYear"),this.prevYear=this.curYear-1,this.prevYearNumber=this.shadowRoot.querySelector(".prev-year > .year"),this.prevYearWeeks=this.shadowRoot.querySelector(".prev-year > .weeks"),this.curYearNumber=this.shadowRoot.querySelector(".cur-year > .year"),this.curYearWeeks=this.shadowRoot.querySelector(".cur-year > .weeks"),this.nextYear=this.curYear+1,this.nextYearNumber=this.shadowRoot.querySelector(".next-year > .year"),this.nextYearWeeks=this.shadowRoot.querySelector(".next-year > .weeks")}},{key:"addListeners",value:function(){var e=this;document.addEventListener("click",function(t){return e.closeWeekPicker(t)}),this.input.addEventListener("click",function(){return e.openWeekPicker()}),this.crossIcon.addEventListener("click",function(){return e.cancel()}),this.calendar.addEventListener("click",function(t){return e.calendarClick(t)}),this.prevYearButton.addEventListener("click",function(){return e.moveYearBefore()}),this.nextYearButton.addEventListener("click",function(){return e.moveYearAfter()})}},{key:"buildCalendar",value:function(){this.buildYears(),this.buildWeeksAndMonth()}},{key:"openWeekPicker",value:function(){this.calendar.className="ws-week-picker opened",this.input.className="ws-week-input active",this.crossIcon.className="ws-week-icon active",""==this.input.value?(this.buildCalendar(),this.defineCurrent()):this.pickedWeekWrapper.className="week now"}},{key:"calendarClick",value:function(e){"week"!=e.target.className&&"week now"!=e.target.className||("prev-year"==e.target.parentElement.parentElement.parentElement.className?this.pickedWeekYear=e.target.parentElement.parentElement.parentElement.children[1].firstElementChild.innerHTML:this.pickedWeekYear=e.target.parentElement.parentElement.parentElement.firstElementChild.firstElementChild.innerHTML,this.pickedWeekWrapper.className="week",this.pickedWeekWrapper=e.target,this.pickedWeekWrapper.className="week now",this.pickedResult=this.pickedWeekWrapper.innerHTML+"-"+this.pickedWeekYear,this.input.value=this.pickedResult,this.cancel())}},{key:"cancel",value:function(){this.calendar.className="ws-week-picker",this.input.className="ws-week-input used",this.crossIcon.className="ws-week-icon"}},{key:"moveYearBefore",value:function(){this.destroyCalendar(),this.curYear-=1,this.prevYear-=1,this.nextYear-=1,this.buildCalendar()}},{key:"moveYearAfter",value:function(){this.destroyCalendar(),this.curYear+=1,this.prevYear+=1,this.nextYear+=1,this.buildCalendar()}},{key:"destroyCalendar",value:function(){this.prevYearNumber.innerHTML="",this.prevYearWeeks.innerHTML="",this.curYearNumber.innerHTML="",this.curYearWeeks.innerHTML="",this.nextYearNumber.innerHTML="",this.nextYearWeeks.innerHTML=""}},{key:"closeWeekPicker",value:function(e){"WS-WEEK-PICKER"!=e.target.tagName&&(this.destroyCalendar(),this.calendar.className="ws-week-picker",this.input.className="ws-week-input used",this.crossIcon.className="ws-week-icon")}},{key:"createElement",value:function(e,t,r){var n=document.createElement(e);return r&&(n.innerHTML=r),t&&(n.className=t),n}},{key:"getWeek",value:function(e,t,r){var n=function(e){return 1e3>e?e+1900:e},s=new Date(e,t,r),a=new Date(e,0,1),i=a.getDay();0==i?i=6:i--;var c=(Date.UTC(n(e),s.getMonth(),s.getDate(),0,0,0)-Date.UTC(n(e),0,1,0,0,0))/1e3/60/60/24+1;if(4>i)var o=Math.floor((c+i-1)/7)+1;else{var o=Math.floor((c+i-1)/7);if(0==o){e--;var u=new Date(e,0,1),h=u.getDay();0==h?h=6:h--,o=4>h?53:52}}return o}},{key:"janWeekNumbers",value:function(e){var t=[],r=this.getWeek(e,0,1),n=this.getWeek(e,0,31);if(1!=r){t[0]=r;for(var s=1;n>=s;s++)t.push(s)}else for(var a=0;n>a;a++)t.push(a+1);return t}},{key:"weekNumbersByMonth",value:function(e,t){for(var r=[],n=this.getWeek(e,t,1),s=this.getWeek(e,t,31),a=n;s>=a;a++)r.push(a);return r}},{key:"weeksNumbersForYear",value:function(e){var t=[];t[0]=this.janWeekNumbers(e);for(var r=1;11>=r;r++)t[r]=this.weekNumbersByMonth(e,r);return t}},{key:"buildYears",value:function(){this.prevYearNumber.innerHTML="<span>"+this.prevYear+"</span>",this.nextYearNumber.innerHTML="<span>"+this.nextYear+"</span>",this.curYearNumber.innerHTML="<span>"+this.curYear+"</span>"}},{key:"buildWeeksAndMonth",value:function(){var e=this,t=this;this.prevYearWeeksNumbers=this.weeksNumbersForYear(this.prevYear).slice(10),this.prevYearWeeksNumbers.forEach(function(r,n){e.prevYearWeeks.innerHTML+='<span class="weekNumbers">\n                                          <span class="month">'+t.months[n+10]+'</span>\n                                          <span class="week">'+r.join('</span><span class="week">')+"</span>\n                                       </span>"}),this.curYearWeeksNumbers=this.weeksNumbersForYear(this.curYear),this.curYearWeeksNumbers.forEach(function(r,n){e.curYearWeeks.innerHTML+='<span class="weekNumbers">\n                                          <span class="month">'+t.months[n]+'</span>\n                                          <span class="week">'+r.join('</span><span class="week">')+"</span>\n                                       </span>"}),this.nextYearWeeksNumbers=this.weeksNumbersForYear(this.nextYear).slice(0,2),this.nextYearWeeksNumbers.forEach(function(r,n){e.nextYearWeeks.innerHTML+='<span class="weekNumbers">\n                                          <span class="month">'+t.months[n]+'</span>\n                                          <span class="week">'+r.join('</span><span class="week">')+"</span>\n                                       </span>"})}},{key:"defineCurrent",value:function(){for(var e=this,t=this.shadowRoot.querySelectorAll(".cur-year .week"),r=0;r<t.length;r++)t[r].innerHTML==e.curWeek&&t[r].parentElement.firstElementChild.innerHTML==e.curMonth&&(e.pickedWeekWrapper=t[r],e.pickedWeekWrapper.className="week now")}}]),t}(HTMLElement);document.registerElement("ws-week-picker",WSWeekPicker);
    /* endinject */
})()
</script>
